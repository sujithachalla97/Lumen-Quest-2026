<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Subscription Admin — Single File</title>
<style>
:root{
  --bg:#0f1724; --card:#0b1220; --muted:#9aa7b2; --accent:#3b82f6; --accent-2:#06b6d4;
  --success:#10b981; --danger:#ef4444; --glass: rgba(255,255,255,0.03);
  --radius:10px; --gap:14px; color-scheme: dark;
}
*{box-sizing:border-box}
html,body{height:100%; margin:0; font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial; 
          /* New background image style */
          background: url("https://images.unsplash.com/photo-1542435503-956c469947f6?q=80&w=2727&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D") no-repeat center center/cover;
          color:#e6eef6; -webkit-font-smoothing:antialiased; background-attachment: fixed;}
.app{
  max-width:1100px; 
  margin:20px auto; 
  padding:18px; 
  display:grid; 
  grid-template-columns: 260px 1fr; 
  gap:18px;
  width: 100%;
  box-sizing: border-box;
  background: rgba(11, 18, 32, 0.75); /* Added semi-transparent background to the app container */
  border-radius: var(--radius);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.05);
}
header.app-header{
  grid-column:1/-1; 
  display:flex; 
  align-items:center; 
  gap:12px; 
  margin-bottom:4px;
  flex-wrap: wrap;
  background: rgba(11, 18, 32, 0.85);
  padding: 12px 18px;
  border-radius: var(--radius);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.05);
}
.brand{font-weight:700; font-size:1.1rem; color:var(--accent); display: flex; align-items: center; gap: 8px;}
.brand svg { width: 24px; height: 24px; }
nav.menu{background:rgba(11, 18, 32, 0.75); padding:12px; border-radius:var(--radius); min-height:520px; 
         backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.05);}
nav.menu .nav-item{display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:8px; cursor:pointer; color:var(--muted); transition: all 0.2s ease;}
nav.menu .nav-item.active{background:linear-gradient(90deg, rgba(59,130,246,0.12), rgba(6,182,212,0.05)); color:var(--accent);}
nav.menu .nav-item:hover{color:#fff; transform:translateY(-1px); background: rgba(255,255,255,0.03);}
.content{background:rgba(11, 18, 32, 0.75); padding:16px; border-radius:var(--radius); min-height:520px; display:flex; flex-direction:column; gap:12px; 
         backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.05);}
.row{display:flex; gap:12px; align-items:center; flex-wrap:wrap;}
.card{background:var(--glass); padding:12px; border-radius:10px; min-width:0; border: 1px solid rgba(255,255,255,0.03);}
.stat{flex:1; padding:16px; min-width: 160px;}
.stat h3{margin:0 0 6px 0; font-size:0.9rem; color:var(--muted)}
.stat p{margin:0; font-size:1.6rem; font-weight:700}
/* Plans table */
.plans-controls{display:flex; gap:10px; justify-content:space-between; align-items:center; flex-wrap:wrap;}
.btn{background:var(--accent); color:white; border:none; padding:8px 16px; border-radius:8px; cursor:pointer; transition: all 0.2s ease; font-weight: 500;}
.btn.ghost{background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted)}
.btn:hover{opacity:0.9; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2);}
.btn:active{transform: translateY(0);}
table{width:100%; border-collapse:collapse; font-size:0.95rem;}
th,td{padding:10px; text-align:left; border-bottom:1px dashed rgba(255,255,255,0.03);}
.muted{color:var(--muted); font-size:0.85rem}
.pill{padding:6px 8px; border-radius:999px; font-size:0.85rem}
.pill.active{background:rgba(16,185,129,0.12); color:var(--success)}
.pill.inactive{background:rgba(239,68,68,0.08); color:var(--danger)}
.actions button{margin-right:6px;}
form.small{display:flex; gap:8px; align-items:center; flex-wrap:wrap;}
input,select{padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:rgba(0,0,0,0.2); color:inherit; transition: all 0.2s ease;}
input:focus, select:focus {outline: none; border-color: var(--accent); box-shadow: 0 0 0 2px rgba(59,130,246,0.2);}
label{font-size:0.9rem; color:var(--muted)}
.flex-1{flex:1}
/* Discounts */
.discount-list{display:flex; flex-direction:column; gap:8px;}
.discount-item{display:flex; justify-content:space-between; gap:10px; align-items:center; padding:10px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border:1px solid rgba(255,255,255,0.02)}
.small-muted{font-size:0.85rem;color:var(--muted)}
/* modal */
.modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(2,6,23,0.6); z-index:50; backdrop-filter: blur(4px);}
.modal.open{display:flex}
.modal-card{background:var(--card); padding:16px; width:520px; max-width:90vw; border-radius:12px; border: 1px solid rgba(255,255,255,0.05);}
.modal-head{display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;}
/* responsive */
@media(max-width:880px){
  .app{grid-template-columns:1fr; padding:12px;}
  nav.menu{min-height:unset; display:flex; gap:8px; overflow:auto; padding:8px;}
  nav.menu .nav-item{white-space:nowrap; padding:8px 10px;}
  .content{min-height:unset;}
  .modal-card{width: 95%; padding: 12px;}
}
@media(max-width: 600px) {
  .app {padding: 8px;}
  .plans-controls {flex-direction: column; align-items: flex-start;}
  .stat {min-width: 100%;}
  form.small {flex-direction: column; align-items: stretch;}
  form.small input, form.small select {width: 100%;}
  .discount-item {flex-direction: column; align-items: flex-start;}
}
footer{grid-column:1/-1; color:var(--muted); font-size:0.85rem; margin-top:6px; text-align: center;}
.chart-wrap{width:100%; height:260px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border-radius:8px; padding:12px;}
.empty{color:var(--muted); padding:20px; text-align:center}
/* New login page styles */
.login-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  text-align: center;
  padding: 20px;
}
.login-card {
  background: var(--card);
  padding: 40px;
  border-radius: var(--radius);
  width: 100%;
  max-width: 360px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.05);
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}
.login-card h2 { margin-top: 0; }
.login-card input { 
  width: 100%; 
  margin-bottom: 12px; 
  box-sizing: border-box;
}
.login-card .btn { width: 100%; }
/* User menu */
.user-menu {
  position: relative;
  margin-left: auto;
}
.user-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.06);
  transition: all 0.2s ease;
}
.user-toggle:hover {
  background: rgba(255,255,255,0.08);
}
.user-dropdown {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 8px;
  background: var(--card);
  border-radius: var(--radius);
  min-width: 180px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  border: 1px solid rgba(255,255,255,0.05);
  display: none;
  z-index: 100;
  overflow: hidden;
}
.user-dropdown.open {
  display: block;
}
.user-dropdown .dropdown-item {
  padding: 12px 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.2s ease;
  color: var(--muted);
  border-bottom: 1px solid rgba(255,255,255,0.03);
}
.user-dropdown .dropdown-item:last-child {
  border-bottom: none;
}
.user-dropdown .dropdown-item:hover {
  background: rgba(255,255,255,0.03);
  color: #fff;
}
.user-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: white;
}
/* Logout button in admin section */
.logout-btn {
  background: rgba(239, 68, 68, 0.1);
  color: var(--danger);
  border: 1px solid rgba(239, 68, 68, 0.2);
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: 12px;
  font-size: 0.85rem;
}
.logout-btn:hover {
  background: rgba(239, 68, 68, 0.2);
  transform: translateY(-1px);
}
</style>
</head>
<body>
  <div class="app" role="application" aria-label="Subscription Admin" style="display:none">
    <header class="app-header">
      <div class="brand">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        Subscription Admin
      </div>
      <div class="small-muted">Single-file demo • localStorage only</div>
      <button class="logout-btn" id="header-logout-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        Logout
      </button>
      <div class="user-menu">
        <div class="user-toggle" id="user-toggle">
          <div class="user-avatar">A</div>
          <span>Admin</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </div>
        <div class="user-dropdown" id="user-dropdown">
          <div class="dropdown-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            Profile
          </div>
          <div class="dropdown-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
            Settings
          </div>
          <div class="dropdown-item" id="logout-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
              <polyline points="16 17 21 12 16 7"></polyline>
              <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
            Logout
          </div>
        </div>
      </div>
    </header>
    <nav class="menu" role="navigation" aria-label="Main">
      <div class="nav-item active" data-target="dashboard">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        Dashboard
      </div>
      <div class="nav-item" data-target="plans">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <path d="M16 10a4 4 0 0 1-8 0"></path>
        </svg>
        Plans
      </div>
      <div class="nav-item" data-target="analytics">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="20" x2="18" y2="10"></line>
          <line x1="12" y1="20" x2="12" y2="4"></line>
          <line x1="6" y1="20" x2="6" y2="14"></line>
        </svg>
        Analytics
      </div>
      <div class="nav-item" data-target="discounts">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
          <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
        Discounts
      </div>
    </nav>
    <main class="content" role="main">
      <div id="dashboard-content">
        <h2>Dashboard</h2>
        <div class="row">
          <div class="card stat">
            <h3>Active Subscriptions</h3>
            <p>1,248</p>
          </div>
          <div class="card stat">
            <h3>Monthly Revenue</h3>
            <p>$12,845</p>
          </div>
          <div class="card stat">
            <h3>Churn Rate</h3>
            <p>2.4%</p>
          </div>
        </div>
        <div class="card chart-wrap">
          <p class="muted">Subscription Growth (Last 6 Months)</p>
          <canvas id="growthChart" width="500" height="200"></canvas>
        </div>
      </div>
      <div id="plans-content" style="display:none">
        <div class="plans-controls">
          <h2>Subscription Plans</h2>
          <button class="btn" onclick="openModal()">Add New Plan</button>
        </div>
        <table>
          <thead>
            <tr>
              <th>Plan Name</th>
              <th>Price</th>
              <th>Billing Period</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Basic</td>
              <td>$9.99</td>
              <td>Monthly</td>
              <td><span class="pill active">Active</span></td>
              <td class="actions">
                <button class="btn ghost">Edit</button>
                <button class="btn ghost">Deactivate</button>
              </td>
            </tr>
            <tr>
              <td>Pro</td>
              <td>$19.99</td>
              <td>Monthly</td>
              <td><span class="pill active">Active</span></td>
              <td class="actions">
                <button class="btn ghost">Edit</button>
                <button class="btn ghost">Deactivate</button>
              </td>
            </tr>
            <tr>
              <td>Enterprise</td>
              <td>$49.99</td>
              <td>Monthly</td>
              <td><span class="pill inactive">Inactive</span></td>
              <td class="actions">
                <button class="btn ghost">Edit</button>
                <button class="btn ghost">Activate</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="analytics-content" style="display:none">
        <h2>Analytics</h2>
        <div class="card chart-wrap">
          <p class="muted">Revenue by Plan (Last 30 Days)</p>
          <canvas id="revenueChart" width="500" height="200"></canvas>
        </div>
        <div class="row">
          <div class="card stat">
            <h3>New Subscriptions</h3>
            <p>142</p>
          </div>
          <div class="card stat">
            <h3>Upgrades</h3>
            <p>28</p>
          </div>
          <div class="card stat">
            <h3>Cancellations</h3>
            <p>19</p>
          </div>
        </div>
      </div>
      <div id="discounts-content" style="display:none">
        <div class="plans-controls">
          <h2>Discount Codes</h2>
          <form class="small">
            <input type="text" placeholder="Search discounts...">
            <button class="btn">Search</button>
          </form>
        </div>
        <div class="discount-list">
          <div class="discount-item">
            <div>
              <div>SUMMER25</div>
              <div class="small-muted">25% off for 3 months</div>
            </div>
            <div class="small-muted">Used: 124/500</div>
          </div>
          <div class="discount-item">
            <div>
              <div>WELCOME10</div>
              <div class="small-muted">10% off first payment</div>
            </div>
            <div class="small-muted">Used: 342/1000</div>
          </div>
          <div class="discount-item">
            <div>
              <div>ANNUAL2023</div>
              <div class="small-muted">15% off annual plans</div>
            </div>
            <div class="small-muted">Used: 89/200</div>
          </div>
        </div>
      </div>
    </main>
    <footer>
      <p>Subscription Admin Panel • Demo Only • Data is stored in localStorage</p>
    </footer>
  </div>

  <div class="login-container" id="login-page">
    <div class="login-card">
      <h2>Subscription Admin</h2>
      <p class="muted">Sign in to access your dashboard</p>
      <form id="login-form">
        <input type="text" placeholder="Username" value="admin" required>
        <input type="password" placeholder="Password" value="password" required>
        <button type="submit" class="btn">Sign In</button>
      </form>
      <p class="small-muted">Demo: Use any credentials to login</p>
    </div>
  </div>

  <div class="modal" id="modal">
    <div class="modal-card">
      <div class="modal-head">
        <h3>Add New Plan</h3>
        <button class="btn ghost" onclick="closeModal()">Close</button>
      </div>
      <form>
        <label>Plan Name</label>
        <input type="text" placeholder="Enter plan name">
        <label>Price</label>
        <input type="number" placeholder="0.00" step="0.01">
        <label>Billing Period</label>
        <select>
          <option>Monthly</option>
          <option>Quarterly</option>
          <option>Annual</option>
        </select>
        <div style="margin-top:12px">
          <button class="btn">Create Plan</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Navigation
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        this.classList.add('active');
        
        const target = this.getAttribute('data-target');
        document.querySelectorAll('main > div').forEach(div => div.style.display = 'none');
        document.getElementById(`${target}-content`).style.display = 'block';
      });
    });

    // Modal
    function openModal() {
      document.getElementById('modal').classList.add('open');
    }
    
    function closeModal() {
      document.getElementById('modal').classList.remove('open');
    }
    
    // Close modal when clicking outside
    document.getElementById('modal').addEventListener('click', function(e) {
      if (e.target === this) closeModal();
    });

    // User menu toggle
    document.getElementById('user-toggle').addEventListener('click', function() {
      document.getElementById('user-dropdown').classList.toggle('open');
    });
    
    // Close user menu when clicking outside
    document.addEventListener('click', function(e) {
      const userMenu = document.getElementById('user-toggle');
      const dropdown = document.getElementById('user-dropdown');
      if (!userMenu.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.classList.remove('open');
      }
    });

    // Login functionality
    document.getElementById('login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      document.getElementById('login-page').style.display = 'none';
      document.querySelector('.app').style.display = 'grid';
    });
    
    // Logout functionality
    function logout() {
      document.querySelector('.app').style.display = 'none';
      document.getElementById('login-page').style.display = 'flex';
    }
    
    document.getElementById('logout-btn').addEventListener('click', logout);
    document.getElementById('header-logout-btn').addEventListener('click', logout);

    // Simple chart rendering (pseudo-charts with CSS)
    function renderCharts() {
      const growthCtx = document.getElementById('growthChart').getContext('2d');
      const revenueCtx = document.getElementById('revenueChart').getContext('2d');
      
      // Just drawing some lines to represent charts
      growthCtx.strokeStyle = '#3b82f6';
      growthCtx.lineWidth = 2;
      growthCtx.beginPath();
      growthCtx.moveTo(20, 150);
      growthCtx.lineTo(60, 120);
      growthCtx.lineTo(100, 130);
      growthCtx.lineTo(140, 90);
      growthCtx.lineTo(180, 100);
      growthCtx.lineTo(220, 70);
      growthCtx.stroke();
      
      revenueCtx.fillStyle = '#06b6d4';
      revenueCtx.fillRect(40, 150, 40, -120);
      revenueCtx.fillRect(100, 150, 40, -80);
      revenueCtx.fillRect(160, 150, 40, -140);
      revenueCtx.fillRect(220, 150, 40, -100);
      revenueCtx.fillRect(280, 150, 40, -60);
    }
    
    // Initialize on page load
    window.addEventListener('load', function() {
      renderCharts();
    });
  </script>
</body>
</html>